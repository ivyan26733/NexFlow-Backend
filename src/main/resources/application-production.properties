########################################
# Application
########################################
spring.application.name=nexflow-backend


########################################
# Database (PostgreSQL)
########################################
# Railway / Cloud uses DATABASE_URL
# Local fallback is localhost
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/nexflow}

# Local credentials only (ignored when DATABASE_URL is present)
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}

spring.datasource.driver-class-name=org.postgresql.Driver


########################################
# JPA / Hibernate
########################################
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.open-in-view=false


########################################
# Server
########################################
# Railway injects PORT automatically
server.port=${PORT:8090}


########################################
# CORS
########################################
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}


########################################
# Redis (OPTIONAL â€“ safe if not configured)
########################################
spring.data.redis.host=${SPRING_DATA_REDIS_HOST:}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:0}
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration


########################################
# Logging (Optional but useful)
########################################
logging.level.org.hibernate.SQL=warn
logging.level.org.springframework.web=info